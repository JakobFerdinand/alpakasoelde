<section class="dashboard-stats section">
  <div class="container">
    <div class="stats-card card">
      <a class="old-count-link" href="/messages">
        <p id="old-message-count" class="old-count loading">Lade Daten...</p>
      </a>
    </div>
  </div>
</section>

<script>
  async function loadOldMessageCount() {
    try {
      const res = await fetch('/api/messages/count-old');
      if (!res.ok) return;
      const data = await res.json();
      const el = document.getElementById('old-message-count');
      if (el) {
        el.textContent = `Nachrichten Ã¤lter als 6 Monate: ${data.Count}`;
        el.classList.remove('loading');
      }
    } catch {
      /* ignore */
    }
  }
  loadOldMessageCount();
</script>

<style>
  .dashboard-stats {
    background-color: var(--weidegruen);
    color: var(--schurwolle);
    text-align: center;
  }

  .stats-card {
    display: flex;
    justify-content: center;
    width: 100%;
    margin: 2rem 0;
  }

  .old-count-link {
    color: inherit;
    text-decoration: none;
    display: block;
    width: 100%;
  }

  .old-count-link:hover {
    text-decoration: underline;
  }

  .old-count {
    margin: 0;
    font-weight: 600;
    font-size: 1.25rem;
    display: flex;
    align-items: center;
    justify-content: center;
  }
</style>
