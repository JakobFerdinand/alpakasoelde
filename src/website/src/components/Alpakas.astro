---
import { Image } from 'astro:assets';
import Amadeus from '../images/alpakas/amadeus.jpg';
import Ludwig from '../images/alpakas/ludwig.jpg';
import Johann from '../images/alpakas/johann.jpg';
import Richard from '../images/alpakas/richard.jpg';
import Antonio from '../images/alpakas/antonio.jpeg';
---

<section id="alpakas" class="alpacas section">
  <h2>Unsere Alpakas</h2>
  <div class="alpaca-grid container">
    <div class="alpaca-item">
      <Image src={Amadeus} alt="Alpaka Amadeus" class="alpaca-photo" />
      <h3>Amadeus</h3>
      <p>Der ruhige Anführer der Herde, benannt nach Mozart.</p>
    </div>
    <div class="alpaca-item">
      <Image src={Ludwig} alt="Alpaka Ludwig" class="alpaca-photo" />
      <h3>Ludwig</h3>
      <p>Lebhaft und neugierig, wie Beethovens Musik.</p>
    </div>
    <div class="alpaca-item">
      <Image src={Johann} alt="Alpaka Johann" class="alpaca-photo" />
      <h3>Johann</h3>
      <p>Harmonisch und ausgeglichen, unser kleiner Bach.</p>
    </div>
    <div class="alpaca-item">
      <Image src={Richard} alt="Alpaka Richard" class="alpaca-photo" />
      <h3>Richard</h3>
      <p>Stolz und majestätisch, wie Wagners Opern.</p>
    </div>
    <div class="alpaca-item">
      <Image src={Antonio} alt="Alpaka Antonio" class="alpaca-photo" />
      <h3>Antonio</h3>
      <p>Spritzig und freundlich, inspiriert von Vivaldi.</p>
    </div>
  </div>
</section>

<style>
  .alpaca-grid {
    display: grid;
    gap: 2rem;
  }

  .alpaca-item {
    padding: 1rem;
    text-align: center;
    opacity: 0;
  }
  
  .alpaca-item.show {
    opacity: 1;
    transition: opacity 0.5s ease-in;
  }

  .alpaca-photo {
    width: 8rem;
    height: 8rem;
    object-fit: cover;
    border-radius: 50%;
    margin-bottom: 0.75rem;
  }

  @media (min-width: 768px) {
    .alpaca-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;
      justify-content: center;
    }

    .alpaca-item {
      flex: 0 0 calc(33.333% - 2rem);
    }
  }
</style>

<script>
        const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry) => {
                        if (entry.isIntersecting) {
                                entry.target.classList.add("show");
                        } else {
                                entry.target.classList.remove("show");
                        }
                });
        }, {});
        const sections = document.querySelectorAll(".alpaca-item");
        sections.forEach((section) => observer.observe(section));
</script>