---
import type { ImageMetadata } from 'astro';

interface Props {
  image: ImageMetadata;
  alt?: string;
  backgroundPosition?: string;
}

const {
  image,
  alt = 'Alpakas√∂lde Impression',
  backgroundPosition = 'center',
} = Astro.props as Props;
---

<section
  class="impression-break"
  role="img"
  aria-label={alt}
  style={`--impression-photo: url(${image.src}); --impression-position: ${backgroundPosition}`}
>
  <span class="sr-only">{alt}</span>
</section>

<style>
  .impression-break {
    position: relative;
    min-height: clamp(20rem, 90vh, 30rem);
    width: 100%;
    background-image: var(--impression-photo);
    background-size: cover;
    background-position: var(--impression-position);
    background-repeat: no-repeat;
    overflow: hidden;
  }

  .impression-break::before {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(50% 50% at 50% 50%, rgba(0, 0, 0, 0.12), transparent 60%);
    z-index: -1;
  }

  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }
</style>
