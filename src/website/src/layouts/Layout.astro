---
import "../styles/global.css";
import Navbar from "../components/Navbar.astro";
import Footer from "../components/Footer.astro";
import Head from '../components/Head.astro';
import '@fontsource/bricolage-grotesque/300.css';
import '@fontsource/bricolage-grotesque/400.css';

interface Props {
	title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="de">
       <head>
               <meta charset="UTF-8" />
               <meta name="viewport" content="width=device-width" />
               <Head title={title} />
       </head>
        <body>
                <a href="#main-content" class="skip-link">Zum Inhalt springen</a>
                <Navbar />
                <main id="main-content">
                        <slot />
                </main>
                <Footer />
        </body>
</html>

<style>
        html,
        body {
                margin: 0;
                width: 100%;
        }
</style>

<script is:inline>
        const navLogo = document.querySelector('.navbar .logo');
        const heroSection = document.querySelector('.hero');
        if (navLogo && heroSection) {
                const observer = new IntersectionObserver(([entry]) => {
                        if (entry.isIntersecting) {
                                navLogo.classList.remove('show'); // hero visible → keep nav logo hidden
                        } else {
                                navLogo.classList.add('show'); // hero gone → show nav logo
                        }
                }, { threshold: 0, rootMargin: '-80px 0px 0px 0px' });
                observer.observe(heroSection);
        }
</script>